<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 회원>커뮤니티 -->
<mapper namespace="fboard">
	
	<insert id="add" parameterType="com.yol.web.DTO.VFBoardDTO">
		INSERT INTO FREEBOARD values(fbSeq.nextval, #{mSeq}, #{fbCatSeq}, #{fbName}, default, #{fbMain}, default, default)
	</insert>
	
	<select id="list" resultType="com.yol.web.DTO.VFBoardDTO">
		SELECT * FROM 	VFREEBOARD  where activation = 'y' order by fbSeq desc
	</select>
 
 	<select id="view" parameterType="String" resultType="com.yol.web.DTO.VFBoardDTO">
 		SELECT * FROM 	VFREEBOARD WHERE fbSeq=#{fbSeq}
 	</select>
 
 	<select id="listshort" resultType="com.yol.web.DTO.VFBoardDTO">
 		select * from (SELECT a.*, rownum as rnum FROM (select *from vfreeboard order by fbseq desc) a) where<![CDATA[ rnum <= 5]]>
 	</select>
 
 	<select id="getTotalCount" parameterType="map" resultType="Integer">
 		select count(*) from freeboard where activation ='y'
 	</select>
 
 	<select id="search" parameterType="map" resultType="com.yol.web.DTO.VFBoardDTO">
 		select * from VFREEBOARD  where activation = 'y' and ${category} like '%' || #{word} || '%' order by fbSeq desc
 	</select>
 	

</mapper>
